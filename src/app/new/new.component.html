<div class="container-fluid">
  <form [formGroup]="executiveForm" (ngSubmit)="onSubmit()">
    <div class="row mb-3">
      <div class="col-md-12">
        <div class="p-3" formGroupName="profile">
          <table class="table table-borderless">
            <tbody>
              <tr>
                <td width="140">
                  <label for="txtExecutiveCode" class="Captionstyle"
                    >Executive Code
                    <span class="text-danger small">*</span>
                  </label>
                </td>
                <td>
                  <input
                    type="text"
                    id="txtExecutiveCode"
                    class="Textboxstyle"
                    style="width: 120px"
                    formControlName="ExecutiveCode"
                    maxlength="10"
                    [readonly]="isEditMode()"
                  />
                  @if (profile.get('ExecutiveCode')?.invalid &&
                  profile.get('ExecutiveCode')?.touched) {
                  <div class="text-danger small">
                    @if (profile.get('ExecutiveCode')?.errors?.['required']) {

                    <span class="text-danger small">*</span>
                    } @if (profile.get('ExecutiveCode')?.errors?.['pattern']) {
                    <div class="text-danger small">
                      Invalid Entry (Alphanumeric, _, -)
                    </div>
                    }
                  </div>
                  }
                </td>
              </tr>
              <tr>
                <td width="140">
                  <label for="txtExecutiveName" class="Captionstyle"
                    >Executive Name
                    <span class="text-danger small">*</span></label
                  >
                </td>
                <td>
                  <input
                    type="text"
                    id="txtExecutiveName"
                    class="Textboxstyle"
                    style="width: 320px"
                    formControlName="ExecutiveName"
                    maxlength="50"
                  />
                  @if (profile.get('ExecutiveName')?.invalid &&
                  profile.get('ExecutiveName')?.touched) {
                  <div class="text-danger small">
                    @if (profile.get('ExecutiveName')?.errors?.['required']) {

                    <span class="text-danger small">*</span>
                    } @if (profile.get('ExecutiveName')?.errors?.['pattern']) {
                    <div class="text-danger small">
                      Invalid Characters (& # ' ; ")
                    </div>
                    }
                  </div>
                  }
                </td>
              </tr>
            </tbody>
          </table>
        </div>
        <ul class="nav nav-tabs" id="executiveTabs" role="tablist">
          <!-- Profile Tab -->
          <li class="nav-item" role="presentation">
            <button
              class="nav-link active"
              id="profile-tab"
              data-bs-toggle="tab"
              data-bs-target="#Profile"
              type="button"
              role="tab"
              aria-controls="Profile"
              aria-selected="true"
            >
              Profile
            </button>
          </li>
          <!-- Stock Tab -->
          <li class="nav-item" role="presentation">
            <button
              class="nav-link"
              id="stock-tab"
              data-bs-toggle="tab"
              data-bs-target="#Stock"
              type="button"
              role="tab"
              aria-controls="Stock"
              aria-selected="false"
            >
              Stock
            </button>
          </li>
          <!-- Return Tab -->
          <li class="nav-item" role="presentation">
            <button
              class="nav-link"
              id="return-tab"
              data-bs-toggle="tab"
              data-bs-target="#Return"
              type="button"
              role="tab"
              aria-controls="Return"
              aria-selected="false"
              *ngIf="pnlReturn.Visible"
            >
              Return
            </button>
          </li>
          <!-- Other Tab -->
          <li class="nav-item" role="presentation">
            <button
              class="nav-link"
              id="other-tab"
              data-bs-toggle="tab"
              data-bs-target="#Other"
              type="button"
              role="tab"
              aria-controls="Other"
              aria-selected="false"
            >
              Other
            </button>
          </li>
          <!-- Merchandizing Tab -->
          <li class="nav-item" role="presentation">
            <button
              class="nav-link"
              id="merchandizing-tab"
              data-bs-toggle="tab"
              data-bs-target="#Merchandizing"
              type="button"
              role="tab"
              aria-controls="Merchandizing"
              aria-selected="false"
            >
              Merchandizing
            </button>
          </li>
        </ul>
      </div>
    </div>

    <div class="tab-content" id="executiveTabContent">
      <!-- Profile Tab Content -->
      <div
        class="tab-pane fade show active"
        id="Profile"
        role="tabpanel"
        aria-labelledby="profile-tab"
        formGroupName="profile"
      >
        <div class="p-3">
          <table class="table table-borderless">
            <tbody>
              <tr>
                <td width="140">
                  <label for="lpmtExecutiveGroup" class="Captionstyle"
                    >Executive Group</label
                  >
                </td>

                <td>
                  <select
                    id="lpmtExecutiveGroup"
                    class="form-select form-select-sm"
                    style="width: 120px"
                    formControlName="ExecutiveGroup"
                  >
                    @for (group of executivegroup; track group.groups) {
                    <option [value]="group.groups">
                      {{ group.groupDescriptions }}
                    </option>
                    }
                  </select>
                </td>
              </tr>
              <tr>
                <td [colSpan]="2">
                  <xont-ventura-classification-selector
                    id="clsExecutive"
                    name="clsExecutive"
                    #clsExecutive
                    [taskCode]="cls1.TaskCode"
                    [classificationType]="cls1.Type"
                    [labelWidth]="cls1.LabelWidth"
                    [enableUserInput]="cls1.EnableUserInput"
                    [codeTextWidth]="cls1.CodeTextWidth"
                    [descriptionTextWidth]="cls1.DescriptionTextWidth"
                    [activeStatus]="cls1.ActiveStatus"
                    [allMandatory]="cls1.AllMandatory"
                    [lastLevelRequired]="cls1.LastLevelRequired"
                  >
                  </xont-ventura-classification-selector>
                </td>
              </tr>

              <tr>
                <td width="140">
                  <label for="lpmtOptType" class="Captionstyle"
                    >Operation Type
                  </label>
                </td>
                <td>
                  <xont-ventura-list-prompt
                    id="lpmtOptType"
                    name="lpmtOptType"
                    #lpmtOptType
                    [maxLengths]="[2, 50]"
                    [inputWidths]="[120, 320]"
                    [gridHeaders]="['Code', 'Description']"
                    [gridFields]="['code', 'description']"
                    [mandatory]="true"
                    [strict]="true"
                    (onDataBind)="lpmtOptType_DataBind()"
                    [control]="profile"
                    [modelProps]="['OperationType', 'OperationTypeDesc']"
                    [dataFields]="['code', 'description']"
                    (onChanged)="lpmtOptType_Changed($event)"
                  ></xont-ventura-list-prompt>
                  @if (profile.get('OperationType')?.invalid &&
                  profile.get('OperationType')?.touched) {
                  <div class="text-danger small">
                    @if (profile.get('OperationType')?.errors?.['required']) {
                    <div>*</div>
                    }
                  </div>
                  }
                </td>
              </tr>
              <tr>
                <td colspan="2">
                  <xont-ventura-classification-selector
                    #clsMarketingHierarchy
                    [id]="cls2.ID"
                    [taskCode]="cls2.TaskCode"
                    [classificationType]="cls2.Type"
                    [labelWidth]="cls2.LabelWidth"
                    [enableUserInput]="cls2.EnableUserInput"
                    [codeTextWidth]="cls2.CodeTextWidth"
                    [descriptionTextWidth]="cls2.DescriptionTextWidth"
                    [activeStatus]="cls2.ActiveStatus"
                    [allMandatory]="cls2.AllMandatory"
                    [lastLevelRequired]="cls2.LastLevelRequired"
                  ></xont-ventura-classification-selector>
                </td>
              </tr>
              <tr>
                <td width="140">
                  <label for="lpmtIncentiveGroup" class="Captionstyle"
                    >Incentive Group</label
                  >
                </td>
                <td>
                  <xont-ventura-list-prompt
                    id="lpmtIncentiveGroup"
                    name="lpmtIncentiveGroup"
                    #lpmtIncentiveGroup
                    [maxLengths]="[10, 50]"
                    [inputWidths]="[120, 320]"
                    [gridHeaders]="['Code', 'Description']"
                    [gridFields]="['code', 'description']"
                    [mandatory]="false"
                    [strict]="true"
                    (onDataBind)="lpmtIncentiveGroup_DataBind()"
                    [control]="profile"
                    [modelProps]="['IncentiveGroup', 'IncentiveGroupDesc']"
                    [dataFields]="['code', 'description']"
                  ></xont-ventura-list-prompt>
                </td>
              </tr>
              <tr>
                <td width="140">
                  <label for="txtUserName" class="Captionstyle"
                    >User Name</label
                  >
                </td>
                <td>
                  <input
                    type="text"
                    id="txtUserName"
                    class="Textboxstyle"
                    style="width: 120px"
                    formControlName="UserName"
                    maxlength="30"
                  />
                  @if (profile.get('UserName')?.invalid &&
                  profile.get('UserName')?.touched) {
                  <div class="text-danger small">
                    @if (profile.get('UserName')?.errors?.['pattern']) {
                    <div class="text-danger small">
                      Invalid Entry (Alphanumeric)
                    </div>
                    }
                  </div>
                  }
                </td>
              </tr>
              <tr>
                <td width="140">
                  <label for="txtPassword" class="Captionstyle"
                    >Password
                  </label>
                </td>
                <td>
                  <input
                    type="password"
                    id="txtPassword"
                    class="Textboxstyle"
                    style="width: 120px"
                    formControlName="Password"
                  />
                  @if (profile.get('Password')?.invalid &&
                  profile.get('Password')?.touched) {
                  <div class="text-danger small">
                    @if (profile.get('Password')?.errors?.['required']) {
                    <div>*</div>
                    }
                  </div>
                  }
                </td>
              </tr>
              <tr>
                <td width="140">
                  <label for="txtConfirmPassword" class="Captionstyle"
                    >Confirm Password
                  </label>
                </td>
                <td>
                  <input
                    type="password"
                    id="txtConfirmPassword"
                    class="Textboxstyle"
                    style="width: 120px"
                    formControlName="ConfirmPassword"
                  />
                  @if (profile.hasError('mismatch') &&
                  (profile.get('ConfirmPassword')?.touched ||
                  profile.get('Password')?.touched)) {
                  <div class="text-danger small">Passwords do not match.</div>
                  } @if (profile.get('ConfirmPassword')?.invalid &&
                  profile.get('ConfirmPassword')?.touched &&
                  !profile.hasError('mismatch')) {
                  <div class="text-danger small">
                    @if (profile.get('ConfirmPassword')?.errors?.['required']) {
                    <div>*</div>
                    }
                  </div>
                  }
                </td>
              </tr>
              <tr>
                <td width="140">
                  <label for="datepickerID1" class="Captionstyle"
                    >Password Expiry</label
                  >
                </td>
                <td>
                  <input
                    type="text"
                    id="txtPasswordExpiry"
                    class="Textboxstyle"
                    style="width: 120px"
                    formControlName="PasswordExpiry"
                    maxlength="10"
                    readonly
                  />
                  <xont-ventura-datepicker
                    id="datepickerID1"
                    targetId="txtPasswordExpiry"
                    (onDateSelect)="onPasswordExpirySelect($event)"
                  ></xont-ventura-datepicker>
                </td>
              </tr>
              <tr>
                <td width="140">
                  <label class="Captionstyle">Password Reset</label>
                </td>
                <td>
                  <div class="form-check">
                    <input
                      class="form-check-input"
                      type="checkbox"
                      id="chkPasswordReset"
                      formControlName="chkPasswordReset"
                    />
                  </div>
                </td>
              </tr>
              <tr>
                <td width="140">
                  <label for="txtAuthorityLevel" class="Captionstyle"
                    >Authority Level</label
                  >
                </td>
                <td>
                  <select
                    formControlName="AuthorityLevel"
                    id="txtAuthorityLevel"
                    name="ddlAuthorityLevel"
                    class="Dropdownboxstyle"
                    style="width: 50px"
                  >
                    <option value="1">1</option>
                    <option>2</option>
                    <option>3</option>
                    <option>4</option>
                    <option>5</option>
                    <option>6</option>
                    <option>7</option>
                    <option>8</option>
                    <option>9</option>
                  </select>
                </td>
              </tr>
              <tr>
                <td width="140">
                  <label class="Captionstyle">User Locked</label>
                </td>
                <td>
                  <div class="form-check">
                    <input
                      class="form-check-input"
                      type="checkbox"
                      id="chkUserLocked"
                      formControlName="chkUserLocked"
                    />
                  </div>
                </td>
              </tr>
              <tr>
                <td width="140">
                  <label for="lpmtRetailerType" class="Captionstyle"
                    >Retailer Maintenance</label
                  >
                </td>
                <td>
                  <select
                    id="lpmtRetailerType"
                    class="form-select form-select-sm"
                    style="width: 120px"
                    formControlName="RetailerType"
                  >
                    <option value="0">Create New & Edit Retailers</option>
                    <option Value="1">View Details Only</option>
                    <option Value="2">Edit Details Only</option>
                    <option Value="3">Create New & Edit Profile Info</option>
                    <option Value="4">Create New Only</option>
                    <option Value="9">Do not Allow</option>
                  </select>
                </td>
              </tr>
              <tr>
                <td width="140">
                  <label for="txtIMEINo" class="Captionstyle"
                    >Device IMEI No</label
                  >
                </td>
                <td>
                  <input
                    type="text"
                    id="txtIMEINo"
                    class="Textboxstyle"
                    style="width: 120px"
                    formControlName="IMEINo"
                    maxlength="20"
                    [readonly]="!profile.get('chkValIMEI')?.value"
                  />
                  @if (profile.hasError('imeiRequired') &&
                  profile.get('chkValIMEI')?.value) {
                  <div class="text-danger small">IMEI is required.</div>
                  } @if (profile.get('IMEINo')?.invalid &&
                  profile.get('IMEINo')?.touched &&
                  !profile.hasError('imeiRequired')) {
                  <div class="text-danger small">
                    @if (profile.get('IMEINo')?.errors?.['required']) {
                    <div>*</div>
                    }
                  </div>
                  }
                  <div
                    class="form-check"
                    style="display: inline-block; margin-left: 10px"
                  >
                    <input
                      class="form-check-input"
                      type="checkbox"
                      id="chkValIMEI"
                      formControlName="chkValIMEI"
                      (change)="ValidateIMEINo()"
                    />
                    <label
                      class="form-check-label Captionstyle"
                      for="chkValIMEI"
                      >Validate</label
                    >
                  </div>
                </td>
              </tr>
              <tr>
                <td width="140">
                  <label for="txtMobileNumbers" class="Captionstyle"
                    >Mobile Numbers</label
                  >
                </td>
                <td>
                  <textarea
                    cols="50"
                    id="txtMobileNumbers"
                    class="Textboxstyle"
                    style="width: 400px"
                    formControlName="MobileNumbers"
                    maxlength="132"
                  ></textarea>
                  <span class="Captionstyle ms-2">(Semicolon Separated)</span>
                  @if (profile.get('MobileNumbers')?.invalid &&
                  profile.get('MobileNumbers')?.touched) {
                  <div class="text-danger small">
                    @if (profile.get('MobileNumbers')?.errors?.['pattern']) {
                    <div class="text-danger small">
                      Invalid Entry (Numbers and Semicolon)
                    </div>
                    }
                  </div>
                  }
                </td>
              </tr>
              <tr>
                <td width="140">
                  <label for="txtEmailAddress" class="Captionstyle"
                    >Email Address</label
                  >
                </td>
                <td>
                  <textarea
                    cols="50"
                    id="txtEmailAddress"
                    class="Textboxstyle"
                    style="width: 400px"
                    formControlName="EmailAddress"
                    maxlength="132"
                  ></textarea>
                  <span class="Captionstyle ms-2">(Semicolon Separated)</span>
                  @if (profile.get('EmailAddress')?.invalid &&
                  profile.get('EmailAddress')?.touched) {
                  <div class="text-danger small">
                    @if (profile.get('EmailAddress')?.errors?.['pattern']) {
                    <div class="text-danger small">Invalid Entry</div>
                    }
                  </div>
                  }
                </td>
              </tr>
              <tr>
                <td width="140">
                  <label class="Captionstyle">Active</label>
                </td>
                <td>
                  <div class="form-check">
                    <input
                      class="form-check-input"
                      type="checkbox"
                      id="chkActive"
                      formControlName="chkActive"
                    />
                    <label class="form-check-label Captionstyle" for="chkActive"
                      >Is Active</label
                    >
                  </div>
                </td>
              </tr>
            </tbody>
          </table>
          <table id="pnlUserProfile" [hidden]="!pnlUserProfile.Visible">
            <tbody>
              <tr>
                <td width="140">
                  <label for="lpmtUserProfile" class="Captionstyle"
                    >User Profile</label
                  >
                </td>
                <td>
                  <xont-ventura-list-prompt
                    id="lpmtUserProfile"
                    name="lpmtUserProfile"
                    #lpmtUserProfile
                    [maxLengths]="[10, 50]"
                    [inputWidths]="[120, 320]"
                    [gridHeaders]="['Profile', 'Name']"
                    [gridFields]="['profile', 'name']"
                    [mandatory]="false"
                    [strict]="true"
                    (onDataBind)="lpmtUserProfile_DataBind()"
                    [control]="profile"
                    [modelProps]="['UserProfile', 'UserProfileName']"
                    [dataFields]="['profile', 'name']"
                  ></xont-ventura-list-prompt>
                </td>
              </tr>
              <tr>
                <td width="140">
                  <label for="datepickerID2" class="Captionstyle"
                    >Joining Date</label
                  >
                </td>
                <td>
                  <input
                    type="text"
                    id="txtJoiningDate"
                    class="Textboxstyle"
                    style="width: 120px"
                    formControlName="JoiningDate"
                    maxlength="10"
                    readonly
                  />
                  <xont-ventura-datepicker
                    id="datepickerID2"
                    targetId="txtJoiningDate"
                    (onDateSelect)="onJoiningDateSelect($event)"
                  ></xont-ventura-datepicker>
                </td>
              </tr>
              <tr>
                <td width="140">
                  <label for="datepickerID3" class="Captionstyle"
                    >Termination Date</label
                  >
                </td>
                <td>
                  <input
                    type="text"
                    id="txtTerminationDate"
                    class="Textboxstyle"
                    style="width: 120px"
                    formControlName="TerminationDate"
                    maxlength="10"
                    readonly
                  />
                  <xont-ventura-datepicker
                    id="datepickerID3"
                    targetId="txtTerminationDate"
                    (onDateSelect)="onTerminationDateSelect($event)"
                  ></xont-ventura-datepicker>
                </td>
              </tr>
              <tr>
                <td>
                  <input type="hidden" formControlName="TimeStamp" />
                </td>
                <td>
                  <input
                    type="hidden"
                    formControlName="IsValidateOperationType"
                  />
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>

      <!-- Stock Tab Content -->
      <div
        class="tab-pane fade"
        id="Stock"
        role="tabpanel"
        aria-labelledby="stock-tab"
        formGroupName="stock"
      >
        <div class="p-3">
          <table class="table table-borderless">
            <tbody>
              <tr>
                <td width="140">
                  <label for="clsGeo" class="GridCaptionstyle"
                    >Geographical Details</label
                  >
                </td>
              </tr>
              <tr>
                <td colspan="2">
                  <xont-ventura-classification-selector
                    id="clsGeo"
                    name="clsGeo"
                    #clsGeo
                    [taskCode]="cls3.TaskCode"
                    [classificationType]="cls3.Type"
                    [labelWidth]="cls3.LabelWidth"
                    [enableUserInput]="cls3.EnableUserInput"
                    [codeTextWidth]="cls3.CodeTextWidth"
                    [descriptionTextWidth]="cls3.DescriptionTextWidth"
                    [activeStatus]="cls3.ActiveStatus"
                    [allMandatory]="cls3.AllMandatory"
                    [lastLevelRequired]="cls3.LastLevelRequired"
                    (onchange)="clsGeo_SelectionChange()"
                  >
                  </xont-ventura-classification-selector>
                </td>
              </tr>
              <tr id="pnlStockTerritory" [hidden]="!pnlStockTerritory.Visible">
                <td width="140">
                  <label for="lpmtStockTerritory" class="Captionstyle"
                    >Stock Territory</label
                  >
                </td>
                <td>
                  <xont-ventura-list-prompt
                    id="lpmtStockTerritory"
                    name="lpmtStockTerritory"
                    [maxLengths]="[4, 50]"
                    [inputWidths]="[120, 320]"
                    [gridHeaders]="['Territory Code', 'Description']"
                    [gridFields]="[
                      'masterGroupValue',
                      'masterGroupValueDescription'
                    ]"
                    [type]="'territory'"
                    [mandatory]="false"
                    [strict]="true"
                    [control]="stock"
                    [modelProps]="['StockTerritory', 'StockTerritoryDesc']"
                    [dataFields]="[
                      'masterGroupValue',
                      'masterGroupValueDescription'
                    ]"
                  ></xont-ventura-list-prompt>
                </td>
              </tr>
            </tbody>
          </table>
          <table id="pnlStockDetails" [hidden]="!pnlStockDetails.Visible">
            <tbody>
              <tr>
                <td width="140">
                  <label for="lpmtSalesLocation" class="Captionstyle"
                    >Sales Location</label
                  >
                </td>
                <td>
                  <xont-ventura-list-prompt
                    id="lpmtSalesLocation"
                    name="lpmtSalesLocation"
                    [maxLengths]="[4, 4, 50]"
                    [inputWidths]="[120, 120, 320]"
                    [gridHeaders]="[
                      'Warehouse Code',
                      'Location Code',
                      'Description'
                    ]"
                    [gridFields]="[
                      'warehouseCode',
                      'locationCode',
                      'description'
                    ]"
                    (onDataBind)="lpmtSalesLocation_DataBind()"
                    [mandatory]="false"
                    [strict]="true"
                    [control]="stock"
                    [modelProps]="[
                      'DefSalesWarehouse',
                      'DefSalesLocation',
                      'DefSalesLocationDes'
                    ]"
                    [dataFields]="[
                      'warehouseCode',
                      'locationCode',
                      'description'
                    ]"
                  ></xont-ventura-list-prompt>
                </td>
              </tr>
              <tr>
                <td width="140">
                  <label for="lpmtStockLocation" class="Captionstyle"
                    >Stock Location</label
                  >
                </td>
                <td>
                  <xont-ventura-list-prompt
                    id="lpmtStockLocation"
                    name="lpmtStockLocation"
                    [maxLengths]="[4, 4, 50]"
                    [inputWidths]="[120, 120, 320]"
                    [gridHeaders]="[
                      'Warehouse Code',
                      'Location Code',
                      'Description'
                    ]"
                    [gridFields]="[
                      'warehouseCode',
                      'locationCode',
                      'description'
                    ]"
                    [mandatory]="false"
                    [strict]="true"
                    [control]="stock"
                    [modelProps]="[
                      'DefStockWarehouse',
                      'DefStockLocation',
                      'DefStockLocationDes'
                    ]"
                    [dataFields]="[
                      'warehouseCode',
                      'locationCode',
                      'description'
                    ]"
                  ></xont-ventura-list-prompt>
                </td>
              </tr>
              <tr>
                <td width="140">
                  <label for="lpmtReturnLocation" class="Captionstyle"
                    >Damage Location</label
                  >
                </td>
                <td>
                  <xont-ventura-list-prompt
                    id="lpmtReturnLocation"
                    name="lpmtReturnLocation"
                    [maxLengths]="[4, 4, 50]"
                    [inputWidths]="[120, 120, 320]"
                    [gridHeaders]="[
                      'Warehouse Code',
                      'Location Code',
                      'Description'
                    ]"
                    [gridFields]="[
                      'warehouseCode',
                      'locationCode',
                      'description'
                    ]"
                    [mandatory]="false"
                    [strict]="true"
                    [control]="stock"
                    [modelProps]="[
                      'DefReturnWarehouse',
                      'DefReturnLocation',
                      'DefReturnLocationDes'
                    ]"
                    [dataFields]="[
                      'warehouseCode',
                      'locationCode',
                      'description'
                    ]"
                  ></xont-ventura-list-prompt>
                </td>
              </tr>
              <tr>
                <td width="140">
                  <label for="lpmtInspectionLocation" class="Captionstyle"
                    >Inspection Location</label
                  >
                </td>
                <td>
                  <xont-ventura-list-prompt
                    id="lpmtInspectionLocation"
                    name="lpmtInspectionLocation"
                    [maxLengths]="[4, 4, 50]"
                    [inputWidths]="[120, 120, 320]"
                    [gridHeaders]="[
                      'Warehouse Code',
                      'Location Code',
                      'Description'
                    ]"
                    [gridFields]="[
                      'warehouseCode',
                      'locationCode',
                      'description'
                    ]"
                    [mandatory]="false"
                    [strict]="true"
                    [control]="stock"
                    [modelProps]="[
                      'DefInspectionWarehouse',
                      'DefInspectionLocation',
                      'DefInspectionLocationDes'
                    ]"
                    [dataFields]="[
                      'warehouseCode',
                      'locationCode',
                      'description'
                    ]"
                  ></xont-ventura-list-prompt>
                </td>
              </tr>
              <tr>
                <td width="140">
                  <label for="lpmtSpecialLocation" class="Captionstyle"
                    >Special Location</label
                  >
                </td>
                <td>
                  <xont-ventura-list-prompt
                    id="lpmtSpecialLocation"
                    name="lpmtSpecialLocation"
                    [maxLengths]="[4, 4, 50]"
                    [inputWidths]="[120, 120, 320]"
                    [gridHeaders]="[
                      'Warehouse Code',
                      'Location Code',
                      'Description'
                    ]"
                    [gridFields]="[
                      'warehouseCode',
                      'locationCode',
                      'description'
                    ]"
                    [mandatory]="false"
                    [strict]="true"
                    [control]="stock"
                    [modelProps]="[
                      'DefSpecialWarehouse',
                      'DefSpecialLocation',
                      'DefSpecialLocationDes'
                    ]"
                    [dataFields]="[
                      'warehouseCode',
                      'locationCode',
                      'description'
                    ]"
                  ></xont-ventura-list-prompt>
                </td>
              </tr>
              <tr>
                <td width="140">
                  <label for="lpmtUnloadingLocation" class="Captionstyle"
                    >Unloading Location</label
                  >
                </td>
                <td>
                  <xont-ventura-list-prompt
                    id="lpmtUnloadingLocation"
                    name="lpmtUnloadingLocation"
                    #lpmtUnloadingLocation
                    [maxLengths]="[4, 4, 50]"
                    [inputWidths]="[120, 120, 320]"
                    [gridHeaders]="[
                      'Warehouse Code',
                      'Location Code',
                      'Description'
                    ]"
                    [gridFields]="[
                      'warehouseCode',
                      'locationCode',
                      'description'
                    ]"
                    [mandatory]="false"
                    [strict]="true"
                    (onDataBind)="lpmtUnloadingLocation_DataBind()"
                    [control]="stock"
                    [modelProps]="[
                      'DefUnloadingWarehouse',
                      'DefUnloadingLocation',
                      'DefUnloadingLocationDes'
                    ]"
                    [dataFields]="[
                      'warehouseCode',
                      'locationCode',
                      'description'
                    ]"
                  ></xont-ventura-list-prompt>
                </td>
              </tr>
              <tr>
                <fieldset style="width: 800px">
                  <legend class="GridCaptionstyle">Other Details</legend>
                  <table>
                    <tbody>
                      <tr>
                        <td width="140">
                          <label for="lpmtSalesCategory" class="Captionstyle"
                            >Def.Sales Category</label
                          >
                        </td>
                        <td>
                          <xont-ventura-list-prompt
                            id="lpmtSalesCategory"
                            name="lpmtSalesCategory"
                            [maxLengths]="[10, 50]"
                            [inputWidths]="[120, 320]"
                            [gridHeaders]="['Code', 'Description']"
                            [gridFields]="['code', 'description']"
                            [mandatory]="false"
                            [strict]="true"
                            [control]="stock"
                            (onDataBind)="lpmtDefSaleCategory_DataBind()"
                            [modelProps]="[
                              'SalesCategoryCode',
                              'SalesCategoryCodeDes'
                            ]"
                            [dataFields]="['code', 'description']"
                          ></xont-ventura-list-prompt>
                        </td>
                      </tr>
                      <tr>
                        <td width="140">
                          <label for="lpmtDefEmptyCategory" class="Captionstyle"
                            >Def.Empty Category</label
                          >
                        </td>
                        <td>
                          <xont-ventura-list-prompt
                            id="lpmtDefEmptyCategory"
                            name="lpmtDefEmptyCategory"
                            [maxLengths]="[10, 50]"
                            [inputWidths]="[120, 320]"
                            [gridHeaders]="['Code', 'Description']"
                            [gridFields]="['Code', 'Description']"
                            [mandatory]="false"
                            [strict]="true"
                            [control]="stock"
                            [modelProps]="[
                              'DefEmptyTransactionCategory',
                              'DefEmptyTransactionCategoryDesc'
                            ]"
                            [dataFields]="['Code', 'Description']"
                          ></xont-ventura-list-prompt>
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </fieldset>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
      <!-- Return Tab Content -->
      <div
        class="tab-pane fade"
        id="Return"
        role="tabpanel"
        aria-labelledby="return-tab"
        *ngIf="pnlReturn.Visible"
      >
        <div class="p-3">
          <table class="table table-borderless">
            <thead>
              <tr>
                <th style="width: 100px">Return Type</th>
                <th style="width: 150px">Description</th>
                <th style="width: 200px">Location Code</th>
                <th style="width: 150px">Warehouse</th>
                <th style="width: 150px">Location</th>
              </tr>
            </thead>
            <tbody>
              @for (locationGroup of returnLocations.controls; track $index; let
              i = $index) {
              <tr [formGroupName]="i">
                <td>
                  <input
                    type="text"
                    class="form-control form-control-sm"
                    formControlName="ReturnTypeCode"
                    readonly
                  />
                </td>
                <td>
                  <input
                    type="text"
                    class="form-control form-control-sm"
                    formControlName="ReturnTypeDescription"
                    readonly
                  />
                </td>
                <td>
                  <select
                    class="form-select form-select-sm"
                    formControlName="LocationCode"
                    (change)="ddlReturnType_SelectedIndexChanged(i, $event)"
                  >
                    <option value="">--Select--</option>
                    @for (option of locationGroup.get('DropDownData')?.value;
                    track option.LocationCode) {
                    <option [value]="option.LocationCode">
                      {{ option.LocationCode }}
                    </option>
                    }
                  </select>
                </td>
                <td>
                  <input
                    type="text"
                    class="form-control form-control-sm"
                    formControlName="WarehouseName"
                    readonly
                  />
                </td>
                <td>
                  <input
                    type="text"
                    class="form-control form-control-sm"
                    formControlName="LocationName"
                    readonly
                  />
                </td>
              </tr>
              }
            </tbody>
          </table>
        </div>
      </div>
      <!-- Other Tab Content -->
      <div
        class="tab-pane fade"
        id="Other"
        role="tabpanel"
        aria-labelledby="other-tab"
        formGroupName="other"
      >
        <div class="p-3">
          <table class="table table-borderless">
            <tbody>
              <tr>
                <td width="145">
                  <label class="Captionstyle">Credit Limit Validation</label>
                </td>
                <td>
                  <div class="form-check">
                    <input
                      class="form-check-input"
                      type="checkbox"
                      id="chkCreditLimitValidation"
                      formControlName="chkCreditLimitValidation"
                    />
                  </div>
                </td>
                <td width="120"></td>
                <td width="145">
                  <label for="txtCreditLimit" class="Captionstyle"
                    >Credit Limit</label
                  >
                </td>
                <td>
                  <input
                    type="text"
                    id="txtCreditLimit"
                    class="Textboxstyle"
                    style="width: 120px; text-align: right"
                    formControlName="CreditLimit"
                  />
                  @if (other.get('CreditLimit')?.invalid &&
                  other.get('CreditLimit')?.touched) {
                  <div class="text-danger small">
                    @if (other.get('CreditLimit')?.errors?.['pattern']) {
                    <div>Invalid Entry (Numbers and Decimal)</div>
                    }
                  </div>
                  }
                </td>
              </tr>
              <tr>
                <td width="145">
                  <label for="txtCommissionPercentage" class="Captionstyle"
                    >Commission Percentage</label
                  >
                </td>
                <td>
                  <input
                    type="text"
                    id="txtCommissionPercentage"
                    class="Textboxstyle"
                    style="width: 120px; text-align: right"
                    formControlName="CommissionPercentage"
                    (blur)="validateCommissionPercentage()"
                  />
                  @if (!other.get('CommissionPercentagevalid')?.value) {
                  <div class="text-danger small">
                    Invalid Percentage (0-100)
                  </div>
                  }
                </td>
                <td width="120"></td>
                <td width="145">
                  <label for="txtCashLimit" class="Captionstyle"
                    >Cash Limit</label
                  >
                </td>
                <td>
                  <input
                    type="text"
                    id="txtCashLimit"
                    class="Textboxstyle"
                    style="width: 120px; text-align: right"
                    formControlName="CashLimit"
                  />
                  @if (other.get('CashLimit')?.invalid &&
                  other.get('CashLimit')?.touched) {
                  <div class="text-danger small">
                    @if (other.get('CashLimit')?.errors?.['pattern']) {
                    <div>Invalid Entry (Numbers and Decimal)</div>
                    }
                  </div>
                  }
                </td>
              </tr>
              <tr>
                <td width="145">
                  <label for="txtLastGRNNo" class="Captionstyle"
                    >Last GRN No</label
                  >
                </td>
                <td>
                  <input
                    type="text"
                    id="txtLastGRNNo"
                    class="Textboxstyle"
                    style="width: 120px; text-align: right"
                    formControlName="LastGRNNo"
                  />
                  @if (other.get('LastGRNNo')?.invalid &&
                  other.get('LastGRNNo')?.touched) {
                  <div class="text-danger small">
                    @if (other.get('LastGRNNo')?.errors?.['pattern']) {
                    <div>Invalid Entry (Numbers)</div>
                    }
                  </div>
                  }
                </td>
                <td width="120"></td>
                <td width="145">
                  <label for="txtLastOrderNo" class="Captionstyle"
                    >Last Order No</label
                  >
                </td>
                <td>
                  <input
                    type="text"
                    id="txtLastOrderNo"
                    class="Textboxstyle"
                    style="width: 120px; text-align: right"
                    formControlName="LastOrderNo"
                  />
                  @if (other.get('LastOrderNo')?.invalid &&
                  other.get('LastOrderNo')?.touched) {
                  <div class="text-danger small">
                    @if (other.get('LastOrderNo')?.errors?.['pattern']) {
                    <div>Invalid Entry (Numbers)</div>
                    }
                  </div>
                  }
                </td>
              </tr>
              <tr>
                <td width="145">
                  <label for="txtLastRetailerNo" class="Captionstyle"
                    >Last Retailer No</label
                  >
                </td>
                <td>
                  <input
                    type="text"
                    id="txtLastRetailerNo"
                    class="Textboxstyle"
                    style="width: 120px; text-align: right"
                    formControlName="LastRetailerNo"
                  />
                  @if (other.get('LastRetailerNo')?.invalid &&
                  other.get('LastRetailerNo')?.touched) {
                  <div class="text-danger small">
                    @if (other.get('LastRetailerNo')?.errors?.['pattern']) {
                    <div>Invalid Entry (Numbers)</div>
                    }
                  </div>
                  }
                </td>
                <td width="120"></td>
                <td width="145">
                  <label for="lpmtSurveyRecurrence" class="Captionstyle"
                    >Survey Recurrence</label
                  >
                </td>
                <td>
                  <select
                    id="lpmtSurveyRecurrence"
                    class="form-select"
                    style="width: 120px"
                    formControlName="SurveyRecurrence"
                  >
                    <option value="">Select</option>
                    <option value="Year">Year</option>
                    <option value="Month">Month</option>
                    <option value="Week">Week</option>
                    <option value="Date">Date</option>
                  </select>
                </td>
              </tr>
              <tr>
                <td width="145">
                  <label for="datepickerID4" class="Captionstyle"
                    >Last Survey Date</label
                  >
                </td>
                <td>
                  <input
                    type="text"
                    id="txtLastSurveyDate"
                    class="Textboxstyle"
                    style="width: 120px"
                    formControlName="LastSurveyDate"
                    maxlength="10"
                    readonly
                  />
                  <xont-ventura-datepicker
                    id="datepickerID4"
                    (onDateSelect)="onLastSurveyDateSelect($event)"
                  ></xont-ventura-datepicker>
                </td>
                <td width="120"></td>
                <td width="145">
                  <label for="datepickerID5" class="Captionstyle"
                    >Survey Active Date</label
                  >
                </td>
                <td>
                  <input
                    type="text"
                    id="txtSurveyActiveDate"
                    class="Textboxstyle"
                    style="width: 120px"
                    formControlName="SurveyActiveDate"
                    maxlength="10"
                    readonly
                  />
                  <xont-ventura-datepicker
                    id="datepickerID5"
                    (onDateSelect)="onSurveyActiveDateSelect($event)"
                  ></xont-ventura-datepicker>
                </td>
              </tr>
              <tr>
                <td width="145">
                  <label class="Captionstyle">Allow Price Change</label>
                </td>
                <td>
                  <div class="form-check">
                    <input
                      class="form-check-input"
                      type="checkbox"
                      id="chkAllowPriceChange"
                      formControlName="chkAllowPriceChange"
                    />
                    <label
                      class="form-check-label Captionstyle"
                      for="chkAllowPriceChange"
                      >Enable</label
                    >
                  </div>
                </td>
                <td width="120"></td>
                <td width="100">
                  <label class="Captionstyle">Cash Customer Only</label>
                </td>
                <td>
                  <div class="form-check">
                    <input
                      class="form-check-input"
                      type="checkbox"
                      id="chkCashCustomerOnly"
                      formControlName="chkCashCustomerOnly"
                    />
                    <label
                      class="form-check-label Captionstyle"
                      for="chkCashCustomerOnly"
                      >Enable</label
                    >
                  </div>
                </td>
              </tr>
              <tr>
                <td width="145">
                  <label class="Captionstyle">GIS Executive</label>
                </td>
                <td>
                  <div class="form-check">
                    <input
                      class="form-check-input"
                      type="checkbox"
                      id="chkGISExecutive"
                      formControlName="chkGISExecutive"
                    />
                    <label
                      class="form-check-label Captionstyle"
                      for="chkGISExecutive"
                      >Enable</label
                    >
                  </div>
                </td>
                <td width="120"></td>
                <td width="100">
                  <label class="Captionstyle">Online Executive</label>
                </td>
                <td>
                  <div class="form-check">
                    <input
                      class="form-check-input"
                      type="checkbox"
                      id="chkOnlineExecutive"
                      formControlName="chkOnlineExecutive"
                    />
                    <label
                      class="form-check-label Captionstyle"
                      for="chkOnlineExecutive"
                      >Enable</label
                    >
                  </div>
                </td>
              </tr>
              <tr>
                <td width="145">
                  <label for="txtParentExecutiveCode" class="Captionstyle"
                    >Parent Executive Code</label
                  >
                </td>
                <td>
                  <input
                    type="text"
                    id="txtParentExecutiveCode"
                    class="Textboxstyle"
                    style="width: 120px"
                    formControlName="ParentExecutiveCode"
                    maxlength="10"
                  />
                </td>
                <td width="120"></td>
                <td width="145">
                  <label for="txtParentExecutiveName" class="Captionstyle"
                    >Parent Executive Name</label
                  >
                </td>
                <td>
                  <input
                    type="text"
                    id="txtParentExecutiveName"
                    class="Textboxstyle"
                    style="width: 320px"
                    formControlName="ParentExecutiveName"
                    maxlength="50"
                  />
                </td>
              </tr>
              <tr>
                <td width="145">
                  <label for="txtParentExecutiveType" class="Captionstyle"
                    >Parent Executive Type</label
                  >
                </td>
                <td>
                  <input
                    type="text"
                    id="txtParentExecutiveType"
                    class="Textboxstyle"
                    style="width: 120px"
                    formControlName="ParentExecutiveType"
                    maxlength="10"
                  />
                </td>
                <td width="120"></td>
                <td width="145">
                  <label for="txtExecutiveType" class="Captionstyle"
                    >Executive Type</label
                  >
                </td>
                <td>
                  <input
                    type="text"
                    id="txtExecutiveType"
                    class="Textboxstyle"
                    style="width: 120px"
                    formControlName="ExecutiveType"
                    maxlength="10"
                  />
                </td>
              </tr>
              <tr>
                <td width="145">
                  <label for="txtMappingExecutiveCode" class="Captionstyle"
                    >Mapping Executive Code</label
                  >
                </td>
                <td>
                  <input
                    type="text"
                    id="txtMappingExecutiveCode"
                    class="Textboxstyle"
                    style="width: 120px"
                    formControlName="MappingExecutiveCode"
                    maxlength="10"
                  />
                </td>
                <td width="120"></td>
                <td width="145">
                  <label for="lpmtParameterGroup" class="Captionstyle"
                    >Parameter Group</label
                  >
                </td>
                <td>
                  <xont-ventura-list-prompt
                    id="lpmtParameterGroup"
                    name="lpmtParameterGroup"
                    #lpmtParameterGroup
                    [maxLengths]="[10, 50]"
                    [inputWidths]="[120, 320]"
                    [gridHeaders]="['Code', 'Description']"
                    [gridFields]="['Code', 'Description']"
                    [mandatory]="false"
                    [strict]="true"
                    (onDataBind)="lpmtParameterGroup_DataBind()"
                    [control]="other"
                    [modelProps]="['Parameter', 'ParameterDescription']"
                    [dataFields]="['Code', 'Description']"
                  ></xont-ventura-list-prompt>
                </td>
              </tr>
              <tr>
                <td width="145">
                  <label for="lpmtLoginUser" class="Captionstyle"
                    >Login User</label
                  >
                </td>
                <td>
                  <xont-ventura-list-prompt
                    id="lpmtLoginUser"
                    name="lpmtLoginUser"
                    #lpmtLoginUser
                    [maxLengths]="[4, 50]"
                    [inputWidths]="[120, 320]"
                    [gridHeaders]="['User Name', 'User Full Name']"
                    [gridFields]="['AppUserName', 'UserFullName']"
                    status="All"
                    [mandatory]="false"
                    [strict]="false"
                    (onDataBind)="lpmtLoginUser_Databind()"
                    [control]="other"
                    [modelProps]="['AppUserName', 'UserFullName']"
                  ></xont-ventura-list-prompt>
                </td>
                <td width="120"></td>
                <td width="145">
                  <label for="lpmtCostCenter" class="Captionstyle"
                    >Cost Center</label
                  >
                </td>
                <td colspan="4">
                  <xont-ventura-list-prompt
                    id="lpmtCostCenter"
                    name="lpmtCostCenter"
                    #lpmtCostCenter
                    [maxLengths]="[10, 50]"
                    [inputWidths]="[100, 250]"
                    [gridHeaders]="['Code', 'Description']"
                    [gridFields]="['Code', 'Description']"
                    [mandatory]="false"
                    [strict]="true"
                    [control]="other"
                    [modelProps]="['CostCenterCode', 'CostCenterDesc']"
                    [dataFields]="['Code', 'Description']"
                  ></xont-ventura-list-prompt>
                </td>
              </tr>
              <!-- Hidden TimeStamp for Other -->
              <tr style="display: none">
                <td>
                  <input type="hidden" formControlName="HierarchyTimeStamp" />
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>

      <!-- Merchandizing Tab Content -->
      <div
        class="tab-pane fade"
        id="Merchandizing"
        role="tabpanel"
        aria-labelledby="merchandizing-tab"
        formGroupName="merchandizing"
      >
        <div class="p-3">
          <table class="table table-borderless">
            <tbody>
              <tr>
                <td width="140">
                  <label class="Captionstyle">Auto TM Route Code</label>
                </td>
                <td>
                  <div class="form-check">
                    <input
                      class="form-check-input"
                      type="checkbox"
                      id="chkAutoTMRouteCode"
                      formControlName="chkAutoTMRouteCode"
                      (change)="chkAutoTMRouteCode_CheckedChanged()"
                    />
                    <label
                      class="form-check-label Captionstyle"
                      for="chkAutoTMRouteCode"
                      >Enable</label
                    >
                  </div>
                </td>
              </tr>
              <tr>
                <td width="140">
                  <label for="txtTMRouteCodePrefix" class="Captionstyle"
                    >TM Route Code Prefix</label
                  >
                </td>
                <td>
                  <input
                    type="text"
                    id="txtTMRouteCodePrefix"
                    class="Textboxstyle"
                    style="width: 120px"
                    formControlName="TMRouteCodePrefix"
                    maxlength="10"
                    [readonly]="!merchandizing.get('chkAutoTMRouteCode')?.value"
                  />
                  @if (merchandizing.get('TMRouteCodePrefix')?.invalid &&
                  merchandizing.get('TMRouteCodePrefix')?.touched) {
                  <div class="text-danger small">
                    @if
                    (merchandizing.get('TMRouteCodePrefix')?.errors?.['pattern'])
                    {
                    <div>Invalid Entry (Alphanumeric, _, -)</div>
                    }
                  </div>
                  }
                </td>
              </tr>
              <tr>
                <td width="140">
                  <label for="txtNextTMRouteNo" class="Captionstyle"
                    >Next TM Route No</label
                  >
                </td>
                <td>
                  <input
                    type="text"
                    id="txtNextTMRouteNo"
                    class="Textboxstyle"
                    style="width: 120px; text-align: right"
                    formControlName="NextTMRouteNo"
                    readonly
                  />
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>

    <!-- Action Buttons -->
    <div class="mt-3 d-flex justify-content-start">
      <button
        type="submit"
        class="MainButtonStyle btn me-2"
        [disabled]="executiveForm.invalid || isLoading()"
      >
        @if (isLoading()) {
        <mat-spinner
          diameter="20"
          style="display: inline-block; margin-right: 5px"
        ></mat-spinner>
        <span>Saving...</span>
        } @else {
        <span>Ok</span>
        }
      </button>
      <button
        type="button"
        class="MainButtonStyle btn"
        (click)="btnCancel_Click()"
      >
        Cancel
      </button>
    </div>
  </form>

  <!-- Message Prompt Component -->
  <xont-ventura-message-prompt #msgPrompt></xont-ventura-message-prompt>
</div>
