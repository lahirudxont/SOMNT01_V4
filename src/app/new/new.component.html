<div class="container-fluid">
  <form [formGroup]="executiveForm" (ngSubmit)="onSubmit()">
    <div class="row mb-3">
      <div class="col-md-12">
        <div class="p-3" formGroupName="profile">
          <table class="table table-borderless">
            <tbody>
              <tr>
                <td width="140">
                  <label for="txtExecutiveCode" class="Captionstyle"
                    >Executive Code <span class="text-danger">*</span></label
                  >
                </td>
                <td>
                  <input
                    type="text"
                    id="txtExecutiveCode"
                    class="Textboxstyle"
                    style="width: 120px"
                    formControlName="ExecutiveCode"
                    maxlength="10"
                    [readonly]="isEditMode()"
                  />
                  <small
                    *ngIf="
                      profile.get('ExecutiveCode')?.invalid &&
                      profile.get('ExecutiveCode')?.touched
                    "
                    class="text-danger"
                  >
                    <span
                      *ngIf="profile.get('ExecutiveCode')?.errors?.['required']"
                      >*</span
                    >
                    <span
                      *ngIf="profile.get('ExecutiveCode')?.errors?.['pattern']"
                      >Invalid Entry (Alphanumeric, _, -)</span
                    >
                  </small>
                </td>
              </tr>
              <tr>
                <td width="140">
                  <label for="txtExecutiveName" class="Captionstyle"
                    >Executive Name <span class="text-danger">*</span></label
                  >
                </td>
                <td>
                  <input
                    type="text"
                    id="txtExecutiveName"
                    class="Textboxstyle"
                    style="width: 320px"
                    formControlName="ExecutiveName"
                    maxlength="50"
                  />
                  <small
                    *ngIf="
                      profile.get('ExecutiveName')?.invalid &&
                      profile.get('ExecutiveName')?.touched
                    "
                    class="text-danger"
                  >
                    <span
                      *ngIf="profile.get('ExecutiveName')?.errors?.['required']"
                      >*</span
                    >
                    <span
                      *ngIf="profile.get('ExecutiveName')?.errors?.['pattern']"
                      >Invalid Characters (& # ' ; "')</span
                    >
                  </small>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
        <ul class="nav nav-tabs" id="executiveTabs" role="tablist">
          <!-- Profile Tab -->
          <li class="nav-item" role="presentation">
            <button
              class="nav-link active"
              id="profile-tab"
              data-bs-toggle="tab"
              data-bs-target="#Profile"
              type="button"
              role="tab"
              aria-controls="Profile"
              aria-selected="true"
            >
              Profile
            </button>
          </li>
          <!-- Stock Tab -->
          <li class="nav-item" role="presentation">
            <button
              class="nav-link"
              id="stock-tab"
              data-bs-toggle="tab"
              data-bs-target="#Stock"
              type="button"
              role="tab"
              aria-controls="Stock"
              aria-selected="false"
            >
              Stock
            </button>
          </li>
          <!-- Return Tab -->
          <li class="nav-item" role="presentation">
            <button
              class="nav-link"
              id="return-tab"
              data-bs-toggle="tab"
              data-bs-target="#Return"
              type="button"
              role="tab"
              aria-controls="Return"
              aria-selected="false"
              *ngIf="pnlReturn.Visible"
            >
              Return
            </button>
          </li>
          <!-- Other Tab -->
          <li class="nav-item" role="presentation">
            <button
              class="nav-link"
              id="other-tab"
              data-bs-toggle="tab"
              data-bs-target="#Other"
              type="button"
              role="tab"
              aria-controls="Other"
              aria-selected="false"
            >
              Other
            </button>
          </li>
          <!-- Merchandizing Tab -->
          <li class="nav-item" role="presentation">
            <button
              class="nav-link"
              id="merchandizing-tab"
              data-bs-toggle="tab"
              data-bs-target="#Merchandizing"
              type="button"
              role="tab"
              aria-controls="Merchandizing"
              aria-selected="false"
            >
              Merchandizing
            </button>
          </li>
        </ul>
      </div>
    </div>
    <div class="tab-content" id="executiveTabContent">
      <!-- Profile Tab Content -->
      <div
        class="tab-pane fade show active"
        id="Profile"
        role="tabpanel"
        aria-labelledby="profile-tab"
        formGroupName="profile"
      >
        <div class="p-3">
          <table class="table table-borderless">
            <tbody>
              <tr>
                <td width="140">
                  <label for="lpmtExecutiveGroup" class="Captionstyle"
                    >Executive Group</label
                  >
                </td>
                <td>
                  <select
                    id="lpmtExecutiveGroup"
                    class="Dropdownboxstyle"
                    style="width: 120px"
                    formControlName="ExecutiveGroup"
                  >
                    <option
                      *ngFor="let group of executivegroup"
                      [value]="group.groups"
                    >
                      {{ group.groupDescriptions }}
                    </option>
                  </select>
                </td>
              </tr>
              <tr>
                <td colspan="2">
                  <xont-ventura-classification-selector
                    id="clsExecutive"
                    name="clsExecutive"
                    #clsExecutive
                    [taskCode]="cls1.TaskCode"
                    [classificationType]="cls1.Type"
                    [labelWidth]="cls1.LabelWidth"
                    [enableUserInput]="cls1.EnableUserInput"
                    [codeTextWidth]="cls1.CodeTextWidth"
                    [descriptionTextWidth]="cls1.DescriptionTextWidth"
                    [activeStatus]="cls1.ActiveStatus"
                    [allMandatory]="cls1.AllMandatory"
                    [lastLevelRequired]="cls1.LastLevelRequired"
                  >
                  </xont-ventura-classification-selector>
                </td>
              </tr>
              <tr>
                <td width="140">
                  <label for="lpmtOptType" class="Captionstyle"
                    >Operation Type <span class="text-danger">*</span></label
                  >
                </td>
                <td>
                  <xont-ventura-list-prompt
                    id="lpmtOptType"
                    name="lpmtOptType"
                    #lpmtOptType
                    [maxLengths]="[2, 50]"
                    [inputWidths]="[120, 320]"
                    [gridHeaders]="['Code', 'Description']"
                    [gridFields]="['code', 'description']"
                    [mandatory]="true"
                    [strict]="true"
                    (onDataBind)="lpmtOptType_DataBind()"
                    [control]="profile"
                    [modelProps]="['OperationType', 'OperationTypeDesc']"
                    (onChanged)="lpmtOptType_Changed($event)"
                  ></xont-ventura-list-prompt>
                  <small
                    *ngIf="
                      profile.get('OperationType')?.invalid &&
                      profile.get('OperationType')?.touched
                    "
                    class="text-danger"
                  >
                    <span
                      *ngIf="profile.get('OperationType')?.errors?.['required']"
                      >*</span
                    >
                  </small>
                </td>
              </tr>
              <tr>
                <td colspan="2">
                  <xont-ventura-classification-selector
                    #clsMarketingHierarchy
                    [id]="cls2.ID"
                    [taskCode]="cls2.TaskCode"
                    [classificationType]="cls2.Type"
                    [labelWidth]="cls2.LabelWidth"
                    [enableUserInput]="cls2.EnableUserInput"
                    [codeTextWidth]="cls2.CodeTextWidth"
                    [descriptionTextWidth]="cls2.DescriptionTextWidth"
                    [activeStatus]="cls2.ActiveStatus"
                    [allMandatory]="cls2.AllMandatory"
                    [lastLevelRequired]="cls2.LastLevelRequired"
                  >
                  </xont-ventura-classification-selector>
                </td>
              </tr>
              <tr>
                <td width="140">
                  <label for="lpmtIncentiveGroup" class="Captionstyle"
                    >Incentive Group</label
                  >
                </td>
                <td>
                  <xont-ventura-list-prompt
                    id="lpmtIncentiveGroup"
                    name="lpmtIncentiveGroup"
                    #lpmtIncentiveGroup
                    [maxLengths]="[10, 50]"
                    [inputWidths]="[120, 320]"
                    [gridHeaders]="['Code', 'Description']"
                    [gridFields]="['code', 'description']"
                    [mandatory]="false"
                    [strict]="true"
                    (onDataBind)="lpmtIncentiveGroup_DataBind()"
                    [control]="profile"
                    [modelProps]="['IncentiveGroup', 'IncentiveGroupDesc']"
                  ></xont-ventura-list-prompt>
                </td>
              </tr>
              <tr>
                <td width="140">
                  <label for="txtUserName" class="Captionstyle"
                    >User Name</label
                  >
                </td>
                <td>
                  <input
                    type="text"
                    id="txtUserName"
                    class="Textboxstyle"
                    style="width: 120px"
                    formControlName="UserName"
                    maxlength="30"
                  />
                  <small
                    *ngIf="
                      profile.get('UserName')?.invalid &&
                      profile.get('UserName')?.touched
                    "
                    class="text-danger"
                  >
                    <span *ngIf="profile.get('UserName')?.errors?.['pattern']"
                      >Invalid User Name (Alphanumeric)</span
                    >
                  </small>
                </td>
              </tr>
              <tr>
                <td width="140">
                  <label for="txtPassword" class="Captionstyle">Password</label>
                </td>
                <td>
                  <input
                    type="password"
                    id="txtPassword"
                    class="Textboxstyle"
                    style="width: 120px"
                    formControlName="Password"
                  />
                  <small
                    *ngIf="
                      profile.get('Password')?.invalid &&
                      profile.get('Password')?.touched
                    "
                    class="text-danger"
                  >
                    <span *ngIf="profile.get('Password')?.errors?.['required']"
                      >*</span
                    >
                  </small>
                </td>
              </tr>
              <tr>
                <td width="140">
                  <label for="txtConfirmPassword" class="Captionstyle"
                    >Confirm Password</label
                  >
                </td>
                <td>
                  <input
                    type="password"
                    id="txtConfirmPassword"
                    class="Textboxstyle"
                    style="width: 120px"
                    formControlName="ConfirmPassword"
                  />
                  <small
                    *ngIf="
                      profile.hasError('mismatch') &&
                      (profile.get('ConfirmPassword')?.touched ||
                        profile.get('Password')?.touched)
                    "
                    class="text-danger"
                  >
                    Passwords do not match.
                  </small>
                </td>
              </tr>
              <tr>
                <td width="140">
                  <label for="datepickerID1" class="Captionstyle"
                    >Password Expiry</label
                  >
                </td>
                <td>
                  <input
                    type="text"
                    id="txtPasswordExpiry"
                    class="Textboxstyle"
                    style="width: 120px"
                    formControlName="PasswordExpiry"
                    maxlength="10"
                    readonly
                  />
                  <xont-ventura-datepicker
                    id="datepickerID1"
                    targetId="txtPasswordExpiry"
                    (onDateSelect)="onPasswordExpirySelect($event)"
                  ></xont-ventura-datepicker>
                </td>
              </tr>
              <tr>
                <td width="140">
                  <label class="Captionstyle">Password Reset</label>
                </td>
                <td>
                  <input
                    type="checkbox"
                    id="chkPasswordReset"
                    formControlName="chkPasswordReset"
                  />
                </td>
              </tr>
              <tr>
                <td width="140">
                  <label for="txtAuthorityLevel" class="Captionstyle"
                    >Authority Level</label
                  >
                </td>
                <td>
                  <select
                    id="txtAuthorityLevel"
                    class="Dropdownboxstyle"
                    style="width: 50px"
                    formControlName="AuthorityLevel"
                  >
                    <option value="1">1</option>
                    <option>2</option>
                    <option>3</option>
                    <option>4</option>
                    <option>5</option>
                    <option>6</option>
                    <option>7</option>
                    <option>8</option>
                    <option>9</option>
                  </select>
                </td>
              </tr>
              <tr>
                <td width="140">
                  <label class="Captionstyle">User Locked</label>
                </td>
                <td>
                  <input
                    type="checkbox"
                    id="chkUserLocked"
                    formControlName="chkUserLocked"
                  />
                </td>
              </tr>
              <tr>
                <td width="140">
                  <label for="lpmtRetailerType" class="Captionstyle"
                    >Retailer Maintenance</label
                  >
                </td>
                <td>
                  <select
                    id="lpmtRetailerType"
                    class="Dropdownboxstyle"
                    style="width: 230px"
                    formControlName="RetailerType"
                  >
                    <option value="0">Create New & Edit Retailers</option>
                    <option value="1">View Details Only</option>
                    <option value="2">Edit Details Only</option>
                    <option value="3">Create New & Edit Profile Info</option>
                    <option value="4">Create New Only</option>
                    <option value="9">Do Not Allow</option>
                  </select>
                </td>
              </tr>
              <tr>
                <td width="140">
                  <label for="txtIMEINo" class="Captionstyle"
                    >Device IMEI Number</label
                  >
                </td>
                <td>
                  <input
                    type="text"
                    id="txtIMEINo"
                    class="Textboxstyle"
                    style="width: 230px"
                    formControlName="IMEINo"
                    maxlength="20"
                    (blur)="validateIMEINo_OnBlur()"
                  />
                  <div
                    class="form-check"
                    style="display: inline-block; margin-left: 10px"
                  >
                    <input
                      type="checkbox"
                      id="chkValIMEI"
                      formControlName="chkValIMEI"
                      (change)="ValidateIMEINo()"
                    />
                    <label for="chkValIMEI" class="Captionstyle"
                      >Validate</label
                    >
                  </div>
                  <small
                    *ngIf="
                      profile.get('IMEINo')?.invalid &&
                      profile.get('IMEINo')?.touched
                    "
                    class="text-danger"
                  >
                    <span *ngIf="profile.get('IMEINo')?.errors?.['required']"
                      >*</span
                    >
                  </small>
                </td>
              </tr>
              <tr>
                <td width="140">
                  <label for="txbMobileNum" class="Captionstyle"
                    >Mobile Numbers</label
                  >
                </td>
                <td>
                  <textarea
                    rows="3"
                    cols="50"
                    id="txbMobileNum"
                    class="Textboxstyle"
                    style="width: 400px"
                    formControlName="MobileNumbers"
                    maxlength="132"
                  ></textarea>
                  <span class="Captionstyle ms-2">(Semicolon Separated)</span>
                  <small
                    *ngIf="
                      profile.get('MobileNumbers')?.invalid &&
                      profile.get('MobileNumbers')?.touched
                    "
                    class="text-danger"
                  >
                    <span
                      *ngIf="profile.get('MobileNumbers')?.errors?.['pattern']"
                      >Invalid Entry (Numbers and Semicolon)</span
                    >
                  </small>
                </td>
              </tr>
              <tr>
                <td width="140">
                  <label for="txtEmailAddress" class="Captionstyle"
                    >Email Address</label
                  >
                </td>
                <td>
                  <textarea
                    rows="3"
                    cols="50"
                    id="txtEmailAddress"
                    class="Textboxstyle"
                    style="width: 400px"
                    formControlName="EmailAddress"
                    maxlength="132"
                  ></textarea>
                  <span class="Captionstyle ms-2">(Semicolon Separated)</span>
                  <small
                    *ngIf="
                      profile.get('EmailAddress')?.invalid &&
                      profile.get('EmailAddress')?.touched
                    "
                    class="text-danger"
                  >
                    <span
                      *ngIf="profile.get('EmailAddress')?.errors?.['pattern']"
                      >Invalid Entry</span
                    >
                  </small>
                </td>
              </tr>
              <tr>
                <td width="140">
                  <label class="Captionstyle">Active</label>
                </td>
                <td>
                  <input
                    type="checkbox"
                    id="chkActive"
                    formControlName="chkActive"
                  />
                </td>
              </tr>
              <tr>
                <td width="140">
                  <label for="lpmtUserProfile" class="Captionstyle"
                    >User Profile</label
                  >
                </td>
                <td>
                  <xont-ventura-list-prompt
                    id="lpmtUserProfile"
                    name="lpmtUserProfile"
                    #lpmtUserProfile
                    [maxLengths]="[10, 50]"
                    [inputWidths]="[120, 320]"
                    [gridHeaders]="['Profile', 'Name']"
                    [gridFields]="['profile', 'name']"
                    [mandatory]="true"
                    [strict]="true"
                    (onDataBind)="lpmtUserProfile_DataBind()"
                    [control]="profile"
                    [modelProps]="['UserProfile', 'UserProfileName']"
                  ></xont-ventura-list-prompt>
                </td>
              </tr>
              <tr>
                <td width="140">
                  <label for="datepickerID2" class="Captionstyle"
                    >Joining Date</label
                  >
                </td>
                <td>
                  <input
                    type="text"
                    id="txtJoiningDate"
                    class="Textboxstyle"
                    style="width: 120px"
                    formControlName="JoiningDate"
                    maxlength="10"
                    readonly
                  />
                  <xont-ventura-datepicker
                    id="datepickerID2"
                    targetId="txtJoiningDate"
                    (onDateSelect)="onJoiningDateSelect($event)"
                  ></xont-ventura-datepicker>
                </td>
              </tr>
              <tr>
                <td width="140">
                  <label for="datepickerID3" class="Captionstyle"
                    >Termination Date</label
                  >
                </td>
                <td>
                  <input
                    type="text"
                    id="txtTerminationDate"
                    class="Textboxstyle"
                    style="width: 120px"
                    formControlName="TerminationDate"
                    maxlength="10"
                    readonly
                  />
                  <xont-ventura-datepicker
                    id="datepickerID3"
                    targetId="txtTerminationDate"
                    (onDateSelect)="onTerminationDateSelect($event)"
                  ></xont-ventura-datepicker>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>

      <!-- Stock Tab Content -->
      <div
        class="tab-pane fade"
        id="Stock"
        role="tabpanel"
        aria-labelledby="stock-tab"
        formGroupName="stock"
      >
        <div class="p-3">
          <table class="table table-borderless">
            <tbody>
              <tr>
                <td width="140">
                  <label for="clsGeo" class="GridCaptionstyle"
                    >Geographical Details</label
                  >
                </td>
              </tr>
              <tr>
                <td colspan="2">
                  <xont-ventura-classification-selector
                    id="clsGeo"
                    name="clsGeo"
                    #clsGeo
                    [taskCode]="cls3.TaskCode"
                    [classificationType]="cls3.Type"
                    [labelWidth]="cls3.LabelWidth"
                    [enableUserInput]="cls3.EnableUserInput"
                    [codeTextWidth]="cls3.CodeTextWidth"
                    [descriptionTextWidth]="cls3.DescriptionTextWidth"
                    [activeStatus]="cls3.ActiveStatus"
                    [allMandatory]="cls3.AllMandatory"
                    [lastLevelRequired]="cls3.LastLevelRequired"
                    (onchange)="clsGeo_SelectionChange()"
                  >
                  </xont-ventura-classification-selector>
                </td>
              </tr>
              <tr *ngIf="pnlStockTerritory.Visible">
                <td width="140">
                  <label for="lpmtStockTerritory" class="Captionstyle"
                    >Stock Territory</label
                  >
                </td>
                <td>
                  <xont-ventura-list-prompt
                    id="lpmtStockTerritory"
                    name="lpmtStockTerritory"
                    #lpmtStockTerritory
                    [maxLengths]="[4, 50]"
                    [inputWidths]="[120, 320]"
                    [gridHeaders]="['Territory Code', 'Description']"
                    [gridFields]="[
                      'masterGroupValue',
                      'masterGroupValueDescription'
                    ]"
                    [mandatory]="true"
                    [strict]="true"
                    [type]="'territory'"
                    [control]="stock"
                    [modelProps]="['StockTerritory', 'StockTerritoryDesc']"
                  ></xont-ventura-list-prompt>
                </td>
              </tr>
              <tr *ngIf="pnlStockDetails.Visible">
                <td width="140">
                  <label for="lpmtSalesLocation" class="Captionstyle"
                    >Sales Location</label
                  >
                </td>
                <td>
                  <xont-ventura-list-prompt
                    id="lpmtSalesLocation"
                    name="lpmtSalesLocation"
                    #lpmtSalesLocation
                    [maxLengths]="[4, 4, 50]"
                    [inputWidths]="[120, 120, 320]"
                    [gridHeaders]="[
                      'Warehouse Code',
                      'Location Code',
                      'Description'
                    ]"
                    [gridFields]="[
                      'warehouseCode',
                      'locationCode',
                      'description'
                    ]"
                    [mandatory]="false"
                    [strict]="true"
                    (onDataBind)="lpmtSalesLocation_DataBind()"
                    [control]="stock"
                    [modelProps]="[
                      'DefSalesWarehouse',
                      'DefSalesLocation',
                      'DefSalesLocationDes'
                    ]"
                  ></xont-ventura-list-prompt>
                </td>
              </tr>
              <tr *ngIf="pnlStockDetails.Visible">
                <td width="140">
                  <label for="lpmtStockLocation" class="Captionstyle"
                    >Stock Location</label
                  >
                </td>
                <td>
                  <xont-ventura-list-prompt
                    id="lpmtStockLocation"
                    name="lpmtStockLocation"
                    #lpmtStockLocation
                    [maxLengths]="[4, 4, 50]"
                    [inputWidths]="[120, 120, 320]"
                    [gridHeaders]="[
                      'Warehouse Code',
                      'Location Code',
                      'Description'
                    ]"
                    [gridFields]="[
                      'warehouseCode',
                      'locationCode',
                      'description'
                    ]"
                    [mandatory]="false"
                    [strict]="true"
                    (onDataBind)="lpmtStockLocation_DataBind()"
                    [control]="stock"
                    [modelProps]="[
                      'DefStockWarehouse',
                      'DefStockLocation',
                      'DefStockLocationDes'
                    ]"
                  ></xont-ventura-list-prompt>
                </td>
              </tr>
              <tr *ngIf="pnlStockDetails.Visible">
                <td width="140">
                  <label for="lpmtDamageLocation" class="Captionstyle"
                    >Damage Location</label
                  >
                </td>
                <td>
                  <xont-ventura-list-prompt
                    id="lpmtDamageLocation"
                    name="lpmtDamageLocation"
                    #lpmtDamageLocation
                    [maxLengths]="[4, 4, 50]"
                    [inputWidths]="[120, 120, 320]"
                    [gridHeaders]="[
                      'Warehouse Code',
                      'Location Code',
                      'Description'
                    ]"
                    [gridFields]="[
                      'warehouseCode',
                      'locationCode',
                      'description'
                    ]"
                    [mandatory]="false"
                    [strict]="true"
                    (onDataBind)="lpmtDamageLocation_DataBind()"
                    [control]="stock"
                    [modelProps]="[
                      'DefReturnWarehouse',
                      'DefReturnLocation',
                      'DefReturnLocationDes'
                    ]"
                  ></xont-ventura-list-prompt>
                </td>
              </tr>
              <tr *ngIf="pnlStockDetails.Visible">
                <td width="140">
                  <label for="lpmtInspectionLocation" class="Captionstyle"
                    >Inspection Location</label
                  >
                </td>
                <td>
                  <xont-ventura-list-prompt
                    id="lpmtInspectionLocation"
                    name="lpmtInspectionLocation"
                    #lpmtInspectionLocation
                    [maxLengths]="[4, 4, 50]"
                    [inputWidths]="[120, 120, 320]"
                    [gridHeaders]="[
                      'Warehouse Code',
                      'Location Code',
                      'Description'
                    ]"
                    [gridFields]="[
                      'warehouseCode',
                      'locationCode',
                      'description'
                    ]"
                    [mandatory]="false"
                    [strict]="true"
                    (onDataBind)="lpmtInspectionLocation_DataBind()"
                    [control]="stock"
                    [modelProps]="[
                      'DefInspectionWarehouse',
                      'DefInspectionLocation',
                      'DefInspectionLocationDes'
                    ]"
                  ></xont-ventura-list-prompt>
                </td>
              </tr>
              <tr *ngIf="pnlStockDetails.Visible">
                <td width="140">
                  <label for="lpmtSpecialLocation" class="Captionstyle"
                    >Special Location</label
                  >
                </td>
                <td>
                  <xont-ventura-list-prompt
                    id="lpmtSpecialLocation"
                    name="lpmtSpecialLocation"
                    #lpmtSpecialLocation
                    [maxLengths]="[4, 4, 50]"
                    [inputWidths]="[120, 120, 320]"
                    [gridHeaders]="[
                      'Warehouse Code',
                      'Location Code',
                      'Description'
                    ]"
                    [gridFields]="[
                      'warehouseCode',
                      'locationCode',
                      'description'
                    ]"
                    [mandatory]="false"
                    [strict]="true"
                    (onDataBind)="lpmtSpecialLocation_DataBind()"
                    [control]="stock"
                    [modelProps]="[
                      'DefSpecialWarehouse',
                      'DefSpecialLocation',
                      'DefSpecialLocationDes'
                    ]"
                  ></xont-ventura-list-prompt>
                </td>
              </tr>
              <tr *ngIf="pnlStockDetails.Visible">
                <td width="140">
                  <label for="lpmtUnloadingLocation" class="Captionstyle"
                    >Unloading Location</label
                  >
                </td>
                <td>
                  <xont-ventura-list-prompt
                    id="lpmtUnloadingLocation"
                    name="lpmtUnloadingLocation"
                    #lpmtUnloadingLocation
                    [maxLengths]="[4, 4, 50]"
                    [inputWidths]="[120, 120, 320]"
                    [gridHeaders]="[
                      'Warehouse Code',
                      'Location Code',
                      'Description'
                    ]"
                    [gridFields]="[
                      'warehouseCode',
                      'locationCode',
                      'description'
                    ]"
                    [mandatory]="false"
                    [strict]="true"
                    (onDataBind)="lpmtUnloadingLocation_DataBind()"
                    [control]="stock"
                    [modelProps]="[
                      'DefUnloadingWarehouse',
                      'DefUnloadingLocation',
                      'DefUnloadingLocationDes'
                    ]"
                  ></xont-ventura-list-prompt>
                </td>
              </tr>
              <tr *ngIf="pnlStockDetails.Visible">
                <td width="140">
                  <label for="lpmtDefSaleCategory" class="Captionstyle"
                    >Def.Sales Category</label
                  >
                </td>
                <td>
                  <xont-ventura-list-prompt
                    id="lpmtDefSaleCategory"
                    name="lpmtDefSaleCategory"
                    #lpmtDefSaleCategory
                    [maxLengths]="[4, 50]"
                    [inputWidths]="[120, 320]"
                    [gridHeaders]="['Code', 'Description']"
                    [gridFields]="['code', 'description']"
                    [mandatory]="false"
                    [strict]="true"
                    (onDataBind)="lpmtDefSaleCategory_DataBind()"
                    [control]="stock"
                    [modelProps]="['SalesCategoryCode', 'SalesCategoryCodeDes']"
                  ></xont-ventura-list-prompt>
                </td>
              </tr>
              <tr *ngIf="pnlStockDetails.Visible">
                <td width="140">
                  <label for="lpmtDefEmptyCategory" class="Captionstyle"
                    >Def.Empty Category</label
                  >
                </td>
                <td>
                  <xont-ventura-list-prompt
                    id="lpmtDefEmptyCategory"
                    name="lpmtDefEmptyCategory"
                    #lpmtDefEmptyCategory
                    [maxLengths]="[4, 50]"
                    [inputWidths]="[120, 320]"
                    [gridHeaders]="['Code', 'Description']"
                    [gridFields]="['code', 'description']"
                    [mandatory]="false"
                    [strict]="true"
                    (onDataBind)="lpmtDefEmptyCategory_DataBind()"
                    [control]="stock"
                    [modelProps]="[
                      'DefEmptyTransactionCategory',
                      'DefEmptyTransactionCategoryDesc'
                    ]"
                  ></xont-ventura-list-prompt>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>

      <!-- Return Tab Content -->
      <div
        class="tab-pane fade"
        id="Return"
        role="tabpanel"
        aria-labelledby="return-tab"
        *ngIf="pnlReturn.Visible"
      >
        <div class="p-3">
          <table class="table table-borderless">
            <thead>
              <tr>
                <th style="width: 100px">Return Type</th>
                <th style="width: 150px">Description</th>
                <th style="width: 200px">Location Code</th>
                <th style="width: 150px">Warehouse</th>
                <th style="width: 150px">Location</th>
              </tr>
            </thead>
            <tbody>
              <tr
                *ngFor="let loc of returnLocations.controls; let i = index"
                [formGroupName]="i"
              >
                <td>
                  <input
                    type="text"
                    class="form-control form-control-sm"
                    formControlName="ReturnTypeCode"
                    readonly
                  />
                </td>
                <td>
                  <input
                    type="text"
                    class="form-control form-control-sm"
                    formControlName="ReturnTypeDescription"
                    readonly
                  />
                </td>
                <td>
                  <select
                    class="form-select form-select-sm"
                    formControlName="LocationCode"
                    (change)="ddlReturnType_SelectedIndexChanged(i, $event)"
                  >
                    <option value="">--Select--</option>
                    <option
                      *ngFor="let option of loc.get('DropDownData')?.value"
                      [value]="option.LocationCode"
                    >
                      {{ option.LocationDisplay }}
                    </option>
                  </select>
                </td>
                <td>
                  <input
                    type="text"
                    class="form-control form-control-sm"
                    formControlName="WarehouseName"
                    readonly
                  />
                </td>
                <td>
                  <input
                    type="text"
                    class="form-control form-control-sm"
                    formControlName="LocationName"
                    readonly
                  />
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>

      <!-- Other Tab Content -->
      <div
        class="tab-pane fade"
        id="Other"
        role="tabpanel"
        aria-labelledby="other-tab"
        formGroupName="other"
      >
        <div class="p-3">
          <table class="table table-borderless">
            <tbody>
              <tr>
                <td width="145">
                  <label class="Captionstyle">Credit Limit Validation</label>
                </td>
                <td>
                  <input
                    type="checkbox"
                    id="chkCreditLimitValidation"
                    formControlName="chkCreditLimitValidation"
                  />
                </td>
              </tr>
              <tr>
                <td width="145">
                  <label for="txtCreditLimit" class="Captionstyle"
                    >Credit Limit</label
                  >
                </td>
                <td>
                  <input
                    type="text"
                    id="txtCreditLimit"
                    class="Textboxstyle"
                    style="width: 120px; text-align: right"
                    formControlName="CreditLimit"
                  />
                  <small
                    *ngIf="
                      other.get('CreditLimit')?.invalid &&
                      other.get('CreditLimit')?.touched
                    "
                    class="text-danger"
                  >
                    <span *ngIf="other.get('CreditLimit')?.errors?.['pattern']"
                      >Invalid Entry (Numbers and Decimal)</span
                    >
                  </small>
                </td>
              </tr>
              <tr>
                <td width="145">
                  <label for="txtCommissionPercentage" class="Captionstyle"
                    >Commission Percentage</label
                  >
                </td>
                <td>
                  <input
                    type="text"
                    id="txtCommissionPercentage"
                    class="Textboxstyle"
                    style="width: 120px; text-align: right"
                    formControlName="CommissionPercentage"
                    (blur)="validateCommissionPercentage()"
                  />
                  <small
                    *ngIf="!other.get('CommissionPercentagevalid')?.value"
                    class="text-danger"
                  >
                    Invalid Percentage (0-100)
                  </small>
                </td>
              </tr>
              <tr>
                <td width="145">
                  <label for="txtLastGRNNo" class="Captionstyle"
                    >Last GRN No</label
                  >
                </td>
                <td>
                  <input
                    type="text"
                    id="txtLastGRNNo"
                    class="Textboxstyle"
                    style="width: 120px; text-align: right"
                    formControlName="LastGRNNo"
                  />
                  <small
                    *ngIf="
                      other.get('LastGRNNo')?.invalid &&
                      other.get('LastGRNNo')?.touched
                    "
                    class="text-danger"
                  >
                    <span *ngIf="other.get('LastGRNNo')?.errors?.['pattern']"
                      >Invalid Entry (Numbers)</span
                    >
                  </small>
                </td>
              </tr>
              <tr>
                <td width="145">
                  <label for="txtCashLimit" class="Captionstyle"
                    >Cash Limit</label
                  >
                </td>

                <td>
                  <input
                    type="text"
                    id="txtCashLimit"
                    class="Textboxstyle"
                    style="width: 120px; text-align: right"
                    class="Textboxstyle"
                    formControlName="CashLimit"
                  />
                  <small
                    *ngIf="
                      other.get('CashLimit')?.invalid &&
                      other.get('CashLimit')?.touched
                    "
                    class="text-danger"
                  >
                    <span *ngIf="other.get('CashLimit')?.errors?.['pattern']"
                      >Invalid Entry (Numbers and Decimal)</span
                    >
                  </small>
                </td>
              </tr>
              <tr>
                <td width="145">
                  <label for="txtLastRetailerNo" class="Captionstyle"
                    >Last Retailer No</label
                  >
                </td>
                <td>
                  <input
                    type="text"
                    id="txtLastRetailerNo"
                    class="Textboxstyle"
                    style="width: 120px; text-align: right"
                    formControlName="LastRetailerNo"
                  />
                  <small
                    *ngIf="
                      other.get('LastRetailerNo')?.invalid &&
                      other.get('LastRetailerNo')?.touched
                    "
                    class="text-danger"
                  >
                    <span
                      *ngIf="other.get('LastRetailerNo')?.errors?.['pattern']"
                      >Invalid Entry (Numbers)</span
                    >
                  </small>
                </td>
              </tr>
              <tr>
                <td width="145">
                  <label for="txtLastOrderNo" class="Captionstyle"
                    >Last Order No</label
                  >
                </td>
                <td>
                  <input
                    type="text"
                    id="txtLastOrderNo"
                    class="Textboxstyle"
                    style="width: 120px; text-align: right"
                    formControlName="LastOrderNo"
                  />
                  <small
                    *ngIf="
                      other.get('LastOrderNo')?.invalid &&
                      other.get('LastOrderNo')?.touched
                    "
                    class="text-danger"
                  >
                    <span *ngIf="other.get('LastOrderNo')?.errors?.['pattern']"
                      >Invalid Entry (Numbers)</span
                    >
                  </small>
                </td>
              </tr>
              <tr>
                <td width="145">
                  <label for="ddlSurveyRecurrence" class="Captionstyle"
                    >Survey Recurrence</label
                  >
                </td>
                <td>
                  <select
                    id="ddlSurveyRecurrence"
                    class="Dropdownboxstyle"
                    style="width: 120px"
                    formControlName="SurveyRecurrence"
                  >
                    <option value="">Select</option>
                    <option value="Year">Year</option>
                    <option value="Month">Month</option>
                    <option value="Week">Week</option>
                    <option value="Date">Date</option>
                  </select>
                </td>
              </tr>
              <tr>
                <td width="145">
                  <label for="datepickerID4" class="Captionstyle"
                    >Last Survey Date</label
                  >
                </td>
                <td>
                  <input
                    type="text"
                    id="txtLastSurveyDate"
                    class="Textboxstyle"
                    style="width: 120px"
                    formControlName="LastSurveyDate"
                    maxlength="10"
                    readonly
                  />
                  <xont-ventura-datepicker
                    id="datepickerID4"
                    targetId="txtLastSurveyDate"
                    (onDateSelect)="onLastSurveyDateSelect($event)"
                  ></xont-ventura-datepicker>
                </td>
              </tr>
              <tr>
                <td width="145">
                  <label for="datepickerID5" class="Captionstyle"
                    >Survey Active Date</label
                  >
                </td>
                <td>
                  <input
                    type="text"
                    id="txtSurveyActiveDate"
                    class="Textboxstyle"
                    style="width: 120px"
                    formControlName="SurveyActiveDate"
                    maxlength="10"
                    readonly
                  />
                  <xont-ventura-datepicker
                    id="datepickerID5"
                    targetId="txtSurveyActiveDate"
                    (onDateSelect)="onSurveyActiveDateSelect($event)"
                  ></xont-ventura-datepicker>
                </td>
              </tr>
              <tr>
                <td width="145">
                  <label class="Captionstyle">Allow Price Change</label>
                </td>
                <td>
                  <input
                    type="checkbox"
                    id="chkAllowPriceChange"
                    formControlName="chkAllowPriceChange"
                  />
                </td>
              </tr>
              <tr>
                <td width="145">
                  <label class="Captionstyle">Cash Customer Only</label>
                </td>
                <td>
                  <input
                    type="checkbox"
                    id="chkCashCustomerOnly"
                    formControlName="chkCashCustomerOnly"
                  />
                </td>
              </tr>
              <tr>
                <td width="145">
                  <label class="Captionstyle">GIS Executive</label>
                </td>
                <td>
                  <input
                    type="checkbox"
                    id="chkGISExecutive"
                    formControlName="chkGISExecutive"
                  />
                </td>
              </tr>
              <tr>
                <td width="145">
                  <label class="Captionstyle">Online Executive</label>
                </td>
                <td>
                  <input
                    type="checkbox"
                    id="chkOnlineExecutive"
                    formControlName="chkOnlineExecutive"
                  />
                </td>
              </tr>
              <tr>
                <td width="145">
                  <label for="lpmtParameterGroup" class="Captionstyle"
                    >Parameter Group</label
                  >
                </td>
                <td>
                  <xont-ventura-list-prompt
                    id="lpmtParameterGroup"
                    name="lpmtParameterGroup"
                    #lpmtParameterGroup
                    [maxLengths]="[10, 50]"
                    [inputWidths]="[120, 320]"
                    [gridHeaders]="['Code', 'Description']"
                    [gridFields]="['code', 'description']"
                    [mandatory]="false"
                    [strict]="true"
                    (onDataBind)="lpmtParameterGroup_DataBind()"
                    [control]="other"
                    [modelProps]="['Parameter', 'ParameterDescription']"
                  ></xont-ventura-list-prompt>
                </td>
              </tr>
              <tr>
                <td width="145">
                  <label for="lpmtLoginUser" class="Captionstyle"
                    >Login User</label
                  >
                </td>
                <td>
                  <xont-ventura-list-prompt
                    id="lpmtLoginUser"
                    name="lpmtLoginUser"
                    #lpmtLoginUser
                    [maxLengths]="[4, 50]"
                    [inputWidths]="[120, 320]"
                    [gridHeaders]="['User Name', 'User Full Name']"
                    [gridFields]="['AppUserName', 'UserFullName']"
                    status="All"
                    [mandatory]="false"
                    [strict]="false"
                    (onDataBind)="lpmtLoginUser_Databind()"
                    [control]="other"
                    [modelProps]="['AppUserName', 'UserFullName']"
                  ></xont-ventura-list-prompt>
                </td>
              </tr>
              <tr>
                <td width="145">
                  <label for="txtParentExecutiveCode" class="Captionstyle"
                    >Parent Executive Code</label
                  >
                </td>
                <td>
                  <input
                    type="text"
                    id="txtParentExecutiveCode"
                    class="Textboxstyle"
                    style="width: 120px"
                    formControlName="ParentExecutiveCode"
                    maxlength="10"
                  />
                </td>
              </tr>
              <tr>
                <td width="145">
                  <label for="txtParentExecutiveName" class="Captionstyle"
                    >Parent Executive Name</label
                  >
                </td>
                <td>
                  <input
                    type="text"
                    id="txtParentExecutiveName"
                    class="Textboxstyle"
                    style="width: 320px"
                    formControlName="ParentExecutiveName"
                    maxlength="50"
                  />
                </td>
              </tr>
              <tr>
                <td width="145">
                  <label for="txtParentExecutiveType" class="Captionstyle"
                    >Parent Executive Type</label
                  >
                </td>
                <td>
                  <input
                    type="text"
                    id="txtParentExecutiveType"
                    class="Textboxstyle"
                    style="width: 120px"
                    formControlName="ParentExecutiveType"
                    maxlength="10"
                  />
                </td>
              </tr>
              <tr>
                <td width="145">
                  <label for="txtExecutiveType" class="Captionstyle"
                    >Executive Type</label
                  >
                </td>
                <td>
                  <input
                    type="text"
                    id="txtExecutiveType"
                    class="Textboxstyle"
                    style="width: 120px"
                    formControlName="ExecutiveType"
                    maxlength="10"
                  />
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>

      <!-- Merchandizing Tab Content -->
      <div
        class="tab-pane fade"
        id="Merchandizing"
        role="tabpanel"
        aria-labelledby="merchandizing-tab"
        formGroupName="merchandizing"
      >
        <div class="p-3">
          <table class="table table-borderless">
            <tbody>
              <tr>
                <td width="140">
                  <label class="Captionstyle">Auto TM Route Code</label>
                </td>
                <td>
                  <div class="form-check">
                    <input
                      type="checkbox"
                      id="chkAutoTMRouteCode"
                      formControlName="chkAutoTMRouteCode"
                      (change)="chkAutoTMRouteCode_CheckedChanged()"
                    />
                    <label for="chkAutoTMRouteCode" class="Captionstyle"
                      >Enable</label
                    >
                  </div>
                </td>
              </tr>
              <tr>
                <td width="140">
                  <label for="txtTMRouteCodePrefix" class="Captionstyle"
                    >TM Route Code Prefix</label
                  >
                </td>
                <td>
                  <input
                    type="text"
                    id="txtTMRouteCodePrefix"
                    class="Textboxstyle"
                    style="width: 120px"
                    formControlName="TMRouteCodePrefix"
                    maxlength="10"
                    [readonly]="!merchandizing.get('chkAutoTMRouteCode')?.value"
                  />
                  <small
                    *ngIf="
                      merchandizing.get('TMRouteCodePrefix')?.invalid &&
                      merchandizing.get('TMRouteCodePrefix')?.touched
                    "
                    class="text-danger"
                  >
                    <span
                      *ngIf="merchandizing.get('TMRouteCodePrefix')?.errors?.['pattern']"
                      >Invalid Entry (Alphanumeric, _, -)</span
                    >
                  </small>
                </td>
              </tr>
              <tr>
                <td width="140">
                  <label for="txtNextTMRouteNo" class="Captionstyle"
                    >Next TM Route No</label
                  >
                </td>
                <td>
                  <input
                    type="text"
                    id="txtNextTMRouteNo"
                    class="Textboxstyle"
                    style="width: 120px; text-align: right"
                    formControlName="NextTMRouteNo"
                    readonly
                  />
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>

    <!-- Action Buttons -->
    <div class="mt-3 d-flex justify-content-end">
      <button
        type="submit"
        class="MainButtonStyle btn me-2"
        [disabled]="executiveForm.invalid || isLoading()"
      >
        @if (isLoading()) {
        <mat-spinner
          diameter="20"
          style="display: inline-block; margin-right: 5px"
        ></mat-spinner>
        <span>Saving...</span>
        } @else {
        <span>Ok</span>
        }
      </button>
      <button
        type="button"
        class="MainButtonStyle btn"
        (click)="btnCancel_Click()"
      >
        Cancel
      </button>
    </div>

    <!-- Message Prompt Component -->
    <xont-ventura-message-prompt #msgPrompt></xont-ventura-message-prompt>
  </form>
</div>
